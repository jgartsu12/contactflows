{"modules":[{"id":"769ab2e2-5baf-4d84-85fb-e49dcb4e84ae","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1534.2572021484375,"y":122.32154846191406}}},{"id":"9cfe44cc-8fbc-4151-8875-e6461480963b","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":905,"y":546}}},{"id":"b465a5de-0eb2-46c1-9606-89a6be2bc9ac","type":"PlayPrompt","branches":[{"condition":"Success","transition":"769ab2e2-5baf-4d84-85fb-e49dcb4e84ae"}],"parameters":[{"name":"Text","value":"The encrypted customer","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1132.674072265625,"y":55.5379638671875},"useDynamic":false}},{"id":"86df6d75-06f8-4209-b1a3-3262407c07c1","type":"PlayPrompt","branches":[{"condition":"Success","transition":"769ab2e2-5baf-4d84-85fb-e49dcb4e84ae"}],"parameters":[{"name":"Text","value":"lambda error","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1030,"y":257},"useDynamic":false}},{"id":"41c7ff08-0d03-4ab0-96e8-0c6398a07f69","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"b465a5de-0eb2-46c1-9606-89a6be2bc9ac"},{"condition":"Error","transition":"86df6d75-06f8-4209-b1a3-3262407c07c1"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:139750034573:function:DecryptCustomerInput","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"EncryptedCreditCard","value":"EncryptedCreditCard","namespace":"User Defined"}],"metadata":{"position":{"x":862,"y":36},"dynamicMetadata":{"EncryptedCreditCard":true},"useDynamic":false},"target":"Lambda"},{"id":"2e919e52-1d44-4000-b024-526d6f5055b0","type":"PlayPrompt","branches":[{"condition":"Success","transition":"9cfe44cc-8fbc-4151-8875-e6461480963b"}],"parameters":[{"name":"Text","value":"set contact attributes error","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":732,"y":316},"useDynamic":false}},{"id":"9ce37ca6-433e-40e1-9435-7b4bbdcd5fcd","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"5958777e-5dfc-4047-a989-7003312d4555"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":32,"y":190}}},{"id":"67dd5c99-28de-47c1-8ddb-50b18d1879eb","type":"SetAttributes","branches":[{"condition":"Success","transition":"41c7ff08-0d03-4ab0-96e8-0c6398a07f69"},{"condition":"Error","transition":"2e919e52-1d44-4000-b024-526d6f5055b0"}],"parameters":[{"name":"Attribute","value":"EncryptedCreditCard","key":"EncryptedCreditCard","namespace":null}],"metadata":{"position":{"x":577,"y":65}}},{"id":"8cb0991f-32a1-4a50-9936-e7acf94364ce","type":"PlayPrompt","branches":[{"condition":"Success","transition":"9cfe44cc-8fbc-4151-8875-e6461480963b"}],"parameters":[{"name":"Text","value":"store user input error","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":589,"y":527},"useDynamic":false}},{"id":"5958777e-5dfc-4047-a989-7003312d4555","type":"PlayPrompt","branches":[{"condition":"Success","transition":"fb030ae5-ffdc-4bd8-8944-aa85f8ca3ff4"}],"parameters":[{"name":"Text","value":"This flow enables user secure data","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":76,"y":388},"useDynamic":false}},{"id":"fb030ae5-ffdc-4bd8-8944-aa85f8ca3ff4","type":"StoreUserInput","branches":[{"condition":"Success","transition":"67dd5c99-28de-47c1-8ddb-50b18d1879eb"},{"condition":"Error","transition":"8cb0991f-32a1-4a50-9936-e7acf94364ce"}],"parameters":[{"name":"Text","value":"Please enter your  credit card number","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"CustomerInputType","value":"Custom"},{"name":"Timeout","value":"6"},{"name":"MaxDigits","value":20},{"name":"EncryptEntry","value":true},{"name":"DisableCancel","value":false},{"name":"EncryptionKeyId","value":"c90cedf5-907d-4a6e-8f25-d9e535308e60","namespace":null},{"name":"EncryptionKey","value":"-----BEGIN PUBLIC KEY-----\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAsqxYeeXb9nVLD115Ua6440spVVl7sqk+RHJLTf2JLkmJE58pPF0T4ZRvG6Ryyp9XYvhqy1z9YD05BJ7pog1Y\nmmTzJy9OorCuHJnDSuSiEWY/lvGTFTzflIcnYG2RRiSoTsjeZew0OCfswSzWMnw6\nEpwtW9gyxhkRk9HYrYvYvIxiXMKOBZNB6QGuVfReDz5V8n7D+W0vavRRNN8oQQud9oP9HELmWyvFwLOZhSpYZWxXrXILRquzL9mMNhS8BFJPy9s+UaZfycGwaVYZVYKXZbZ4uCtUvjnlNwzQfOlbHX1QPan5PJmuYpRZHZk5c8mHtH5eK+p4Ur6mi8r+zF7KrhYSo9nxyZtUWZ56lfGsXPuCFM02S3bh6pDckYdtdXv+6GfhPS7mYvdFT6C1euFDEe+cc8wqy5kKN/KS2T+JGwV49CNWsGVX3sZq0Gl+AOhIBrFruqbcioEOmjmdKGKCFec28K8hhQfFSVyfNA6UtsPV5kbKxN5yw4m2FUEuTGKP+qAta/MyE8rbbZ3uy323UpDRleG78zyA5X7gob8uoAeig6INtzB06u7WOnSyWcDwRxd7U4FRlxZut/ZcPS4tub9j7up8NAFPVx35PuoX/SQRX/1oCapQn9NSeV1HW3TurfRZfaM3oTKl0YN8Owz9EwIq94bbK3nEv+WrfUpkXV0CAwEAAQ==\n-----END PUBLIC KEY-----","namespace":null}],"metadata":{"position":{"x":344,"y":333},"useDynamic":false,"useDynamicForEncryptionKeys":false,"useDynamicForTerminatorDigits":false,"countryCodePrefix":"+1"}}],"version":"1","start":"9ce37ca6-433e-40e1-9435-7b4bbdcd5fcd","metadata":{"entryPointPosition":{"x":47,"y":15},"snapToGrid":false,"name":"secure ivr sample","description":"https://aws.amazon.com/blogs/contact-center/creating-a-secure-ivr-solution-with-amazon-connect/","type":"contactFlow","status":"published","hash":"e5c5fb0a7679c7de35c7caa050559010fd183665ea1e89d251efc6e84f245056"},"type":"contactFlow"}